var replace=function(){"use strict";var br=Object.defineProperty;var Sr=(B,j,q)=>j in B?br(B,j,{enumerable:!0,configurable:!0,writable:!0,value:q}):B[j]=q;var Y=(B,j,q)=>Sr(B,typeof j!="symbol"?j+"":j,q);function B(e){return e}var j=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function q(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qe={exports:{}};(function(e,t){(function(r,n){n(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:j,function(r){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)r.exports=globalThis.browser;else{const n="The message port closed before a response was received.",s=i=>{const a={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(a).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class c extends WeakMap{constructor(m,w=void 0){super(w),this.createItem=m}get(m){return this.has(m)||this.set(m,this.createItem(m)),super.get(m)}}const d=g=>g&&typeof g=="object"&&typeof g.then=="function",y=(g,m)=>(...w)=>{i.runtime.lastError?g.reject(new Error(i.runtime.lastError.message)):m.singleCallbackArg||w.length<=1&&m.singleCallbackArg!==!1?g.resolve(w[0]):g.resolve(w)},v=g=>g==1?"argument":"arguments",E=(g,m)=>function(A,...S){if(S.length<m.minArgs)throw new Error(`Expected at least ${m.minArgs} ${v(m.minArgs)} for ${g}(), got ${S.length}`);if(S.length>m.maxArgs)throw new Error(`Expected at most ${m.maxArgs} ${v(m.maxArgs)} for ${g}(), got ${S.length}`);return new Promise((P,T)=>{if(m.fallbackToNoCallback)try{A[g](...S,y({resolve:P,reject:T},m))}catch(_){console.warn(`${g} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,_),A[g](...S),m.fallbackToNoCallback=!1,m.noCallback=!0,P()}else m.noCallback?(A[g](...S),P()):A[g](...S,y({resolve:P,reject:T},m))})},F=(g,m,w)=>new Proxy(m,{apply(A,S,P){return w.call(S,g,...P)}});let O=Function.call.bind(Object.prototype.hasOwnProperty);const u=(g,m={},w={})=>{let A=Object.create(null),S={has(T,_){return _ in g||_ in A},get(T,_,C){if(_ in A)return A[_];if(!(_ in g))return;let I=g[_];if(typeof I=="function")if(typeof m[_]=="function")I=F(g,g[_],m[_]);else if(O(w,_)){let L=E(_,w[_]);I=F(g,g[_],L)}else I=I.bind(g);else if(typeof I=="object"&&I!==null&&(O(m,_)||O(w,_)))I=u(I,m[_],w[_]);else if(O(w,"*"))I=u(I,m[_],w["*"]);else return Object.defineProperty(A,_,{configurable:!0,enumerable:!0,get(){return g[_]},set(L){g[_]=L}}),I;return A[_]=I,I},set(T,_,C,I){return _ in A?A[_]=C:g[_]=C,!0},defineProperty(T,_,C){return Reflect.defineProperty(A,_,C)},deleteProperty(T,_){return Reflect.deleteProperty(A,_)}},P=Object.create(g);return new Proxy(P,S)},o=g=>({addListener(m,w,...A){m.addListener(g.get(w),...A)},hasListener(m,w){return m.hasListener(g.get(w))},removeListener(m,w){m.removeListener(g.get(w))}}),l=new c(g=>typeof g!="function"?g:function(w){const A=u(w,{},{getContent:{minArgs:0,maxArgs:0}});g(A)}),f=new c(g=>typeof g!="function"?g:function(w,A,S){let P=!1,T,_=new Promise(W=>{T=function(D){P=!0,W(D)}}),C;try{C=g(w,A,T)}catch(W){C=Promise.reject(W)}const I=C!==!0&&d(C);if(C!==!0&&!I&&!P)return!1;const L=W=>{W.then(D=>{S(D)},D=>{let Le;D&&(D instanceof Error||typeof D.message=="string")?Le=D.message:Le="An unexpected error occurred",S({__mozWebExtensionPolyfillReject__:!0,message:Le})}).catch(D=>{console.error("Failed to send onMessage rejected reply",D)})};return L(I?C:_),!0}),h=({reject:g,resolve:m},w)=>{i.runtime.lastError?i.runtime.lastError.message===n?m():g(new Error(i.runtime.lastError.message)):w&&w.__mozWebExtensionPolyfillReject__?g(new Error(w.message)):m(w)},x=(g,m,w,...A)=>{if(A.length<m.minArgs)throw new Error(`Expected at least ${m.minArgs} ${v(m.minArgs)} for ${g}(), got ${A.length}`);if(A.length>m.maxArgs)throw new Error(`Expected at most ${m.maxArgs} ${v(m.maxArgs)} for ${g}(), got ${A.length}`);return new Promise((S,P)=>{const T=h.bind(null,{resolve:S,reject:P});A.push(T),w.sendMessage(...A)})},k={devtools:{network:{onRequestFinished:o(l)}},runtime:{onMessage:o(f),onMessageExternal:o(f),sendMessage:x.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:x.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},b={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return a.privacy={network:{"*":b},services:{"*":b},websites:{"*":b}},u(i,k,a)};r.exports=s(chrome)}})})(qe);var vt=qe.exports;const V=q(vt);var Ve=Object.prototype.hasOwnProperty;function _e(e,t){var r,n;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&_e(e[n],t[n]););return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(Ve.call(e,r)&&++n&&!Ve.call(t,r)||!(r in t)||!_e(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}function re(e,...t){}const ne={debug:(...e)=>re(console.debug,...e),log:(...e)=>re(console.log,...e),warn:(...e)=>re(console.warn,...e),error:(...e)=>re(console.error,...e)};function xt(e){return Array.isArray(e)?e:[e]}const bt=new Error("request for lock canceled");var St=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(v){try{y(n.next(v))}catch(E){a(E)}}function d(v){try{y(n.throw(v))}catch(E){a(E)}}function y(v){v.done?i(v.value):s(v.value).then(c,d)}y((n=n.apply(e,t||[])).next())})};class Et{constructor(t,r=bt){this._value=t,this._cancelError=r,this._queue=[],this._weightedWaiters=[]}acquire(t=1,r=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((n,s)=>{const i={resolve:n,reject:s,weight:t,priority:r},a=Ue(this._queue,c=>r<=c.priority);a===-1&&t<=this._value?this._dispatchItem(i):this._queue.splice(a+1,0,i)})}runExclusive(t){return St(this,arguments,void 0,function*(r,n=1,s=0){const[i,a]=yield this.acquire(n,s);try{return yield r(i)}finally{a()}})}waitForUnlock(t=1,r=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return this._couldLockImmediately(t,r)?Promise.resolve():new Promise(n=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),It(this._weightedWaiters[t-1],{resolve:n,priority:r})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatchQueue()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatchQueue()}cancel(){this._queue.forEach(t=>t.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(t){const r=this._value;this._value-=t.weight,t.resolve([r,this._newReleaser(t.weight)])}_newReleaser(t){let r=!1;return()=>{r||(r=!0,this.release(t))}}_drainUnlockWaiters(){if(this._queue.length===0)for(let t=this._value;t>0;t--){const r=this._weightedWaiters[t-1];r&&(r.forEach(n=>n.resolve()),this._weightedWaiters[t-1]=[])}else{const t=this._queue[0].priority;for(let r=this._value;r>0;r--){const n=this._weightedWaiters[r-1];if(!n)continue;const s=n.findIndex(i=>i.priority<=t);(s===-1?n:n.splice(0,s)).forEach(i=>i.resolve())}}}_couldLockImmediately(t,r){return(this._queue.length===0||this._queue[0].priority<r)&&t<=this._value}}function It(e,t){const r=Ue(e,n=>t.priority<=n.priority);e.splice(r+1,0,t)}function Ue(e,t){for(let r=e.length-1;r>=0;r--)if(t(e[r]))return r;return-1}var Pt=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function c(v){try{y(n.next(v))}catch(E){a(E)}}function d(v){try{y(n.throw(v))}catch(E){a(E)}}function y(v){v.done?i(v.value):s(v.value).then(c,d)}y((n=n.apply(e,t||[])).next())})};class kt{constructor(t){this._semaphore=new Et(1,t)}acquire(){return Pt(this,arguments,void 0,function*(t=0){const[,r]=yield this._semaphore.acquire(1,t);return r})}runExclusive(t,r=0){return this._semaphore.runExclusive(()=>t(),1,r)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(t=0){return this._semaphore.waitForUnlock(1,t)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const Tt=Ct();function Ct(){const e={local:se("local"),session:se("session"),sync:se("sync"),managed:se("managed")},t=u=>{const o=e[u];if(o==null){const l=Object.keys(e).join(", ");throw Error(`Invalid area "${u}". Options: ${l}`)}return o},r=u=>{const o=u.indexOf(":"),l=u.substring(0,o),f=u.substring(o+1);if(f==null)throw Error(`Storage key should be in the form of "area:key", but received "${u}"`);return{driverArea:l,driverKey:f,driver:t(l)}},n=u=>u+"$",s=(u,o)=>u??o??null,i=u=>typeof u=="object"&&!Array.isArray(u)?u:{},a=async(u,o,l)=>{const f=await u.getItem(o);return s(f,(l==null?void 0:l.fallback)??(l==null?void 0:l.defaultValue))},c=async(u,o)=>{const l=n(o),f=await u.getItem(l);return i(f)},d=async(u,o,l)=>{await u.setItem(o,l??null)},y=async(u,o,l)=>{const f=n(o),x={...i(await u.getItem(f))};Object.entries(l).forEach(([k,b])=>{b==null?delete x[k]:x[k]=b}),await u.setItem(f,x)},v=async(u,o,l)=>{if(await u.removeItem(o),l!=null&&l.removeMeta){const f=n(o);await u.removeItem(f)}},E=async(u,o,l)=>{const f=n(o);if(l==null)await u.removeItem(f);else{const h=i(await u.getItem(f));xt(l).forEach(x=>delete h[x]),await u.setItem(f,h)}},F=(u,o,l)=>u.watch(o,l);return{getItem:async(u,o)=>{const{driver:l,driverKey:f}=r(u);return await a(l,f,o)},getItems:async u=>{const o=new Map,l=new Map;return u.forEach(h=>{let x,k;typeof h=="string"?x=h:(x=h.key,k=h.options);const{driverArea:b,driverKey:g}=r(x),m=o.get(b)??[];o.set(b,m.concat(g)),l.set(x,k)}),(await Promise.all(Array.from(o.entries()).map(async([h,x])=>(await e[h].getItems(x)).map(b=>{const g=`${h}:${b.key}`,m=l.get(g),w=s(b.value,(m==null?void 0:m.fallback)??(m==null?void 0:m.defaultValue));return{key:g,value:w}})))).flat()},getMeta:async u=>{const{driver:o,driverKey:l}=r(u);return await c(o,l)},setItem:async(u,o)=>{const{driver:l,driverKey:f}=r(u);await d(l,f,o)},setItems:async u=>{const o=new Map;u.forEach(({key:l,value:f})=>{const{driverArea:h,driverKey:x}=r(l),k=o.get(h)??[];o.set(h,k.concat({key:x,value:f}))}),await Promise.all(Array.from(o.entries()).map(async([l,f])=>{await t(l).setItems(f)}))},setMeta:async(u,o)=>{const{driver:l,driverKey:f}=r(u);await y(l,f,o)},removeItem:async(u,o)=>{const{driver:l,driverKey:f}=r(u);await v(l,f,o)},removeItems:async u=>{const o=new Map;u.forEach(l=>{let f,h;typeof l=="string"?f=l:(f=l.key,h=l.options);const{driverArea:x,driverKey:k}=r(f),b=o.get(x)??[];b.push(k),h!=null&&h.removeMeta&&b.push(n(k)),o.set(x,b)}),await Promise.all(Array.from(o.entries()).map(async([l,f])=>{await t(l).removeItems(f)}))},removeMeta:async(u,o)=>{const{driver:l,driverKey:f}=r(u);await E(l,f,o)},snapshot:async(u,o)=>{var h;const f=await t(u).snapshot();return(h=o==null?void 0:o.excludeKeys)==null||h.forEach(x=>{delete f[x],delete f[n(x)]}),f},restoreSnapshot:async(u,o)=>{await t(u).restoreSnapshot(o)},watch:(u,o)=>{const{driver:l,driverKey:f}=r(u);return F(l,f,o)},unwatch(){Object.values(e).forEach(u=>{u.unwatch()})},defineItem:(u,o)=>{const{driver:l,driverKey:f}=r(u),{version:h=1,migrations:x={}}=o??{};if(h<1)throw Error("Storage item version cannot be less than 1. Initial versions should be set to 1, not 0.");const k=async()=>{var I;const A=n(f),[{value:S},{value:P}]=await l.getItems([f,A]);if(S==null)return;const T=(P==null?void 0:P.v)??1;if(T>h)throw Error(`Version downgrade detected (v${T} -> v${h}) for "${u}"`);ne.debug(`Running storage migration for ${u}: v${T} -> v${h}`);const _=Array.from({length:h-T},(L,W)=>T+W+1);let C=S;for(const L of _)C=await((I=x==null?void 0:x[L])==null?void 0:I.call(x,C))??C;await l.setItems([{key:f,value:C},{key:A,value:{...P,v:h}}]),ne.debug(`Storage migration completed for ${u} v${h}`,{migratedValue:C})},b=(o==null?void 0:o.migrations)==null?Promise.resolve():k().catch(A=>{ne.error(`Migration failed for ${u}`,A)}),g=new kt,m=()=>(o==null?void 0:o.fallback)??(o==null?void 0:o.defaultValue)??null,w=()=>g.runExclusive(async()=>{const A=await l.getItem(f);if(A!=null||(o==null?void 0:o.init)==null)return A;const S=await o.init();return await l.setItem(f,S),S});return b.then(w),{get defaultValue(){return m()},get fallback(){return m()},getValue:async()=>(await b,o!=null&&o.init?await w():await a(l,f,o)),getMeta:async()=>(await b,await c(l,f)),setValue:async A=>(await b,await d(l,f,A)),setMeta:async A=>(await b,await y(l,f,A)),removeValue:async A=>(await b,await v(l,f,A)),removeMeta:async A=>(await b,await E(l,f,A)),watch:A=>F(l,f,(S,P)=>A(S??m(),P??m())),migrate:k}}}}function se(e){const t=()=>{if(V.runtime==null)throw Error(["'wxt/storage' must be loaded in a web extension environment",`
 - If thrown during a build, see https://github.com/wxt-dev/wxt/issues/371`,` - If thrown during tests, mock 'wxt/browser' correctly. See https://wxt.dev/guide/go-further/testing.html
`].join(`
`));if(V.storage==null)throw Error("You must add the 'storage' permission to your manifest to use 'wxt/storage'");const n=V.storage[e];if(n==null)throw Error(`"browser.storage.${e}" is undefined`);return n},r=new Set;return{getItem:async n=>(await t().get(n))[n],getItems:async n=>{const s=await t().get(n);return n.map(i=>({key:i,value:s[i]??null}))},setItem:async(n,s)=>{s==null?await t().remove(n):await t().set({[n]:s})},setItems:async n=>{const s=n.reduce((i,{key:a,value:c})=>(i[a]=c,i),{});await t().set(s)},removeItem:async n=>{await t().remove(n)},removeItems:async n=>{await t().remove(n)},snapshot:async()=>await t().get(),restoreSnapshot:async n=>{await t().set(n)},watch(n,s){const i=a=>{const c=a[n];c!=null&&(_e(c.newValue,c.oldValue)||s(c.newValue??null,c.oldValue??null))};return t().onChanged.addListener(i),r.add(i),()=>{t().onChanged.removeListener(i),r.delete(i)}},unwatch(){r.forEach(n=>{t().onChanged.removeListener(n)}),r.clear()}}}const ze=e=>{let t;const r=new Set,n=(y,v)=>{const E=typeof y=="function"?y(t):y;if(!Object.is(E,t)){const F=t;t=v??(typeof E!="object"||E===null)?E:Object.assign({},t,E),r.forEach(O=>O(t,F))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>d,subscribe:y=>(r.add(y),()=>r.delete(y))},d=t=e(n,s,c);return c},Rt=e=>e?ze(e):ze;var Ke={exports:{}},p={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q=Symbol.for("react.element"),Ot=Symbol.for("react.portal"),Nt=Symbol.for("react.fragment"),Mt=Symbol.for("react.strict_mode"),Ft=Symbol.for("react.profiler"),$t=Symbol.for("react.provider"),Dt=Symbol.for("react.context"),jt=Symbol.for("react.forward_ref"),Lt=Symbol.for("react.suspense"),qt=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),We=Symbol.iterator;function Ut(e){return e===null||typeof e!="object"?null:(e=We&&e[We]||e["@@iterator"],typeof e=="function"?e:null)}var Be={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ge=Object.assign,He={};function G(e,t,r){this.props=e,this.context=t,this.refs=He,this.updater=r||Be}G.prototype.isReactComponent={},G.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},G.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Je(){}Je.prototype=G.prototype;function ve(e,t,r){this.props=e,this.context=t,this.refs=He,this.updater=r||Be}var xe=ve.prototype=new Je;xe.constructor=ve,Ge(xe,G.prototype),xe.isPureReactComponent=!0;var Xe=Array.isArray,Ye=Object.prototype.hasOwnProperty,be={current:null},Qe={key:!0,ref:!0,__self:!0,__source:!0};function Ze(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Ye.call(t,n)&&!Qe.hasOwnProperty(n)&&(s[n]=t[n]);var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){for(var d=Array(c),y=0;y<c;y++)d[y]=arguments[y+2];s.children=d}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)s[n]===void 0&&(s[n]=c[n]);return{$$typeof:Q,type:e,key:i,ref:a,props:s,_owner:be.current}}function zt(e,t){return{$$typeof:Q,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Se(e){return typeof e=="object"&&e!==null&&e.$$typeof===Q}function Kt(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var et=/\/+/g;function Ee(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Kt(""+e.key):t.toString(36)}function ie(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Q:case Ot:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Ee(a,0):n,Xe(s)?(r="",e!=null&&(r=e.replace(et,"$&/")+"/"),ie(s,t,r,"",function(y){return y})):s!=null&&(Se(s)&&(s=zt(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(et,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Xe(e))for(var c=0;c<e.length;c++){i=e[c];var d=n+Ee(i,c);a+=ie(i,t,r,d,s)}else if(d=Ut(e),typeof d=="function")for(e=d.call(e),c=0;!(i=e.next()).done;)i=i.value,d=n+Ee(i,c++),a+=ie(i,t,r,d,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function oe(e,t,r){if(e==null)return e;var n=[],s=0;return ie(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Wt(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var R={current:null},ae={transition:null},Bt={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:ae,ReactCurrentOwner:be};function tt(){throw Error("act(...) is not supported in production builds of React.")}p.Children={map:oe,forEach:function(e,t,r){oe(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return oe(e,function(){t++}),t},toArray:function(e){return oe(e,function(t){return t})||[]},only:function(e){if(!Se(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},p.Component=G,p.Fragment=Nt,p.Profiler=Ft,p.PureComponent=ve,p.StrictMode=Mt,p.Suspense=Lt,p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bt,p.act=tt,p.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ge({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=be.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(d in t)Ye.call(t,d)&&!Qe.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&c!==void 0?c[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){c=Array(d);for(var y=0;y<d;y++)c[y]=arguments[y+2];n.children=c}return{$$typeof:Q,type:e.type,key:s,ref:i,props:n,_owner:a}},p.createContext=function(e){return e={$$typeof:Dt,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$t,_context:e},e.Consumer=e},p.createElement=Ze,p.createFactory=function(e){var t=Ze.bind(null,e);return t.type=e,t},p.createRef=function(){return{current:null}},p.forwardRef=function(e){return{$$typeof:jt,render:e}},p.isValidElement=Se,p.lazy=function(e){return{$$typeof:Vt,_payload:{_status:-1,_result:e},_init:Wt}},p.memo=function(e,t){return{$$typeof:qt,type:e,compare:t===void 0?null:t}},p.startTransition=function(e){var t=ae.transition;ae.transition={};try{e()}finally{ae.transition=t}},p.unstable_act=tt,p.useCallback=function(e,t){return R.current.useCallback(e,t)},p.useContext=function(e){return R.current.useContext(e)},p.useDebugValue=function(){},p.useDeferredValue=function(e){return R.current.useDeferredValue(e)},p.useEffect=function(e,t){return R.current.useEffect(e,t)},p.useId=function(){return R.current.useId()},p.useImperativeHandle=function(e,t,r){return R.current.useImperativeHandle(e,t,r)},p.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},p.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},p.useMemo=function(e,t){return R.current.useMemo(e,t)},p.useReducer=function(e,t,r){return R.current.useReducer(e,t,r)},p.useRef=function(e){return R.current.useRef(e)},p.useState=function(e){return R.current.useState(e)},p.useSyncExternalStore=function(e,t,r){return R.current.useSyncExternalStore(e,t,r)},p.useTransition=function(){return R.current.useTransition()},p.version="18.3.1",Ke.exports=p;var Gt=Ke.exports;const rt=q(Gt),Ht=e=>e;function Jt(e,t=Ht){const r=rt.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return rt.useDebugValue(r),r}const nt=e=>{const t=Rt(e),r=n=>Jt(t,n);return Object.assign(r,t),r},Xt=e=>e?nt(e):nt,Yt=(e,t)=>(r,n,s)=>(s.dispatch=i=>(r(a=>e(a,i),!1,i),i),s.dispatchFromDevtools=!0,{dispatch:(...i)=>s.dispatch(...i),...t});function Qt(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var i;const a=d=>d===null?null:JSON.parse(d,void 0),c=(i=r.getItem(s))!=null?i:null;return c instanceof Promise?c.then(a):a(c)},setItem:(s,i)=>r.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>r.removeItem(s)}}const Ie=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Ie(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Ie(n)(r)}}}},Zt=(e,t)=>(r,n,s)=>{let i={storage:Qt(()=>localStorage),partialize:o=>o,version:0,merge:(o,l)=>({...l,...o}),...t},a=!1;const c=new Set,d=new Set;let y=i.storage;if(!y)return e((...o)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...o)},n,s);const v=()=>{const o=i.partialize({...n()});return y.setItem(i.name,{state:o,version:i.version})},E=s.setState;s.setState=(o,l)=>{E(o,l),v()};const F=e((...o)=>{r(...o),v()},n,s);s.getInitialState=()=>F;let O;const u=()=>{var o,l;if(!y)return;a=!1,c.forEach(h=>{var x;return h((x=n())!=null?x:F)});const f=((l=i.onRehydrateStorage)==null?void 0:l.call(i,(o=n())!=null?o:F))||void 0;return Ie(y.getItem.bind(y))(i.name).then(h=>{if(h)if(typeof h.version=="number"&&h.version!==i.version){if(i.migrate)return[!0,i.migrate(h.state,h.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,h.state];return[!1,void 0]}).then(h=>{var x;const[k,b]=h;if(O=i.merge(b,(x=n())!=null?x:F),r(O,!0),k)return v()}).then(()=>{f==null||f(O,void 0),O=n(),a=!0,d.forEach(h=>h(O))}).catch(h=>{f==null||f(void 0,h)})};return s.persist={setOptions:o=>{i={...i,...o},o.storage&&(y=o.storage)},clearStorage:()=>{y==null||y.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>u(),hasHydrated:()=>a,onHydrate:o=>(c.add(o),()=>{c.delete(o)}),onFinishHydration:o=>(d.add(o),()=>{d.delete(o)})},i.skipHydration||u(),O||F};var st=Symbol.for("immer-nothing"),it=Symbol.for("immer-draftable"),N=Symbol.for("immer-state");function $(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var H=Object.getPrototypeOf;function J(e){return!!e&&!!e[N]}function U(e){var t;return e?ot(e)||Array.isArray(e)||!!e[it]||!!((t=e.constructor)!=null&&t[it])||ue(e)||fe(e):!1}var er=Object.prototype.constructor.toString();function ot(e){if(!e||typeof e!="object")return!1;const t=H(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===er}function ce(e,t){le(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function le(e){const t=e[N];return t?t.type_:Array.isArray(e)?1:ue(e)?2:fe(e)?3:0}function Pe(e,t){return le(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function at(e,t,r){const n=le(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function tr(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ue(e){return e instanceof Map}function fe(e){return e instanceof Set}function z(e){return e.copy_||e.base_}function ke(e,t){if(ue(e))return new Map(e);if(fe(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=ot(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[N];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const a=s[i],c=n[a];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[a]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[a]})}return Object.create(H(e),n)}else{const n=H(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function Te(e,t=!1){return me(e)||J(e)||!U(e)||(le(e)>1&&(e.set=e.add=e.clear=e.delete=rr),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Te(n,!0))),e}function rr(){$(2)}function me(e){return Object.isFrozen(e)}var nr={};function K(e){const t=nr[e];return t||$(0,e),t}var Z;function ct(){return Z}function sr(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function lt(e,t){t&&(K("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ce(e){Re(e),e.drafts_.forEach(ir),e.drafts_=null}function Re(e){e===Z&&(Z=e.parent_)}function ut(e){return Z=sr(Z,e)}function ir(e){const t=e[N];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ft(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[N].modified_&&(Ce(t),$(4)),U(e)&&(e=ge(t,e),t.parent_||de(t,e)),t.patches_&&K("Patches").generateReplacementPatches_(r[N].base_,e,t.patches_,t.inversePatches_)):e=ge(t,r,[]),Ce(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==st?e:void 0}function ge(e,t,r){if(me(t))return t;const n=t[N];if(!n)return ce(t,(s,i)=>mt(e,n,t,s,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return de(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,a=!1;n.type_===3&&(i=new Set(s),s.clear(),a=!0),ce(i,(c,d)=>mt(e,n,s,c,d,r,a)),de(e,s,!1),r&&e.patches_&&K("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function mt(e,t,r,n,s,i,a){if(J(s)){const c=i&&t&&t.type_!==3&&!Pe(t.assigned_,n)?i.concat(n):void 0,d=ge(e,s,c);if(at(r,n,d),J(d))e.canAutoFreeze_=!1;else return}else a&&r.add(s);if(U(s)&&!me(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ge(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&de(e,s)}}function de(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Te(t,r)}function or(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:ct(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=Oe;r&&(s=[n],i=ee);const{revoke:a,proxy:c}=Proxy.revocable(s,i);return n.draft_=c,n.revoke_=a,c}var Oe={get(e,t){if(t===N)return e;const r=z(e);if(!Pe(r,t))return ar(e,r,t);const n=r[t];return e.finalized_||!U(n)?n:n===Ne(e.base_,t)?(Fe(e),e.copy_[t]=$e(n,e)):n},has(e,t){return t in z(e)},ownKeys(e){return Reflect.ownKeys(z(e))},set(e,t,r){const n=gt(z(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=Ne(z(e),t),i=s==null?void 0:s[N];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(tr(r,s)&&(r!==void 0||Pe(e.base_,t)))return!0;Fe(e),Me(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ne(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Fe(e),Me(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=z(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){$(11)},getPrototypeOf(e){return H(e.base_)},setPrototypeOf(){$(12)}},ee={};ce(Oe,(e,t)=>{ee[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),ee.deleteProperty=function(e,t){return ee.set.call(this,e,t,void 0)},ee.set=function(e,t,r){return Oe.set.call(this,e[0],t,r,e[0])};function Ne(e,t){const r=e[N];return(r?z(r):e)[t]}function ar(e,t,r){var s;const n=gt(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function gt(e,t){if(!(t in e))return;let r=H(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=H(r)}}function Me(e){e.modified_||(e.modified_=!0,e.parent_&&Me(e.parent_))}function Fe(e){e.copy_||(e.copy_=ke(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var cr=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const a=this;return function(d=i,...y){return a.produce(d,v=>r.call(this,v,...y))}}typeof r!="function"&&$(6),n!==void 0&&typeof n!="function"&&$(7);let s;if(U(t)){const i=ut(this),a=$e(t,void 0);let c=!0;try{s=r(a),c=!1}finally{c?Ce(i):Re(i)}return lt(i,n),ft(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===st&&(s=void 0),this.autoFreeze_&&Te(s,!0),n){const i=[],a=[];K("Patches").generateReplacementPatches_(t,s,i,a),n(i,a)}return s}else $(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(a,...c)=>this.produceWithPatches(a,d=>t(d,...c));let n,s;return[this.produce(t,r,(a,c)=>{n=a,s=c}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){U(e)||$(8),J(e)&&(e=lr(e));const t=ut(this),r=$e(e,void 0);return r[N].isManual_=!0,Re(t),r}finishDraft(e,t){const r=e&&e[N];(!r||!r.isManual_)&&$(9);const{scope_:n}=r;return lt(n,t),ft(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=K("Patches").applyPatches_;return J(e)?n(e,t):this.produce(e,s=>n(s,t))}};function $e(e,t){const r=ue(e)?K("MapSet").proxyMap_(e,t):fe(e)?K("MapSet").proxySet_(e,t):or(e,t);return(t?t.scope_:ct()).drafts_.push(r),r}function lr(e){return J(e)||$(10,e),dt(e)}function dt(e){if(!U(e)||me(e))return e;const t=e[N];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ke(e,t.scope_.immer_.useStrictShallowCopy_)}else r=ke(e,!0);return ce(r,(n,s)=>{at(r,n,dt(s))}),t&&(t.finalized_=!1),r}var M=new cr,ur=M.produce;M.produceWithPatches.bind(M),M.setAutoFreeze.bind(M),M.setUseStrictShallowCopy.bind(M),M.applyPatches.bind(M),M.createDraft.bind(M),M.finishDraft.bind(M);const fr=e=>(t,r,n)=>(n.setState=(s,i,...a)=>{const c=typeof s=="function"?ur(s):s;return t(c,i,...a)},e(n.setState,r,n)),he="WPCARU",X=Tt.defineItem(`local:${he}`);var ht=(e=>(e[e.STOP=0]="STOP",e[e.RUNNING=1]="RUNNING",e))(ht||{}),Ae=(e=>(e.FlickerFreeMode="filicker-free",e.RollPollingMode="roll-polling",e.GlobalMode="global",e))(Ae||{});const ye={status:1,editorSettings:{ctrl:!0,alt:!0,shift:!1,button:"right"},persistentSettings:{needPersistent:!0,currentMode:"filicker-free",flickerFree:{duration:5e3},rollPolling:{interval:30,duration:5e3}}},mr={getItem:async()=>{const e=await X.getValue();return e||{state:ye,version:0}},setItem:(e,t)=>{X.setValue(t),At(t.state)},removeItem:()=>{X.removeValue()}},gr=Xt(Zt(fr(Yt((e,{type:t,...r})=>{switch(t){case"reset":return ye;case"update":return{...e,...r}}},ye)),{name:he,storage:mr}));X.watch(e=>{e&&gr.dispatch({type:"update",...e.state})});function At(e){localStorage&&localStorage.setItem(he,JSON.stringify(e))}X.getValue().then(e=>{e&&At(e==null?void 0:e.state)});function yt(e){if(e.id)return`//*[@id="${e.id}"]`;if(e===document.documentElement)return"/html";if(e===document.body)return"/html/body";if(!e.parentNode)return"/"+e.tagName.toLowerCase();let t=0;const r=e.parentNode.children;for(const n of r){if(n===e&&n.parentNode)return yt(n.parentNode)+"/"+e.tagName.toLowerCase()+`[${t+1}]`;n.tagName===e.tagName&&t++}}const pt="PERSISTENT-SCOPE",dr="PERSISTENT-GLOBAL";async function hr(){const e=localStorage.getItem(he);if(e)return JSON.parse(e);const t=await X.getValue();return t&&t.state?t.state:ye}function wt(e){const t=[],r=new XPathEvaluator;return Object.keys(e).forEach(n=>{t.push({xpath:n,text:e[n],expression:r.createExpression(n),isMatch:!1})}),t}function Ar(e){e.filter(r=>!r.isMatch).forEach(r=>{const n=r.expression.evaluate(document,XPathResult.FIRST_ORDERED_NODE_TYPE);if(n&&n.singleNodeValue){const s=n.singleNodeValue;s.textContent=r.text,r.isMatch=!0}})}function yr(e){if(e.nodeType===1){const t=e.tagName.toLowerCase();return!["html","body","head","meta","script","style","title"].includes(t)}return!1}function pr(e,t,r){const n=e.findIndex(s=>s.xpath===t);n!==-1&&(r.textContent=e[n].text)}const wr={matches:["<all_urls>"],runAt:"document_start",async main(e){const t=await hr();if(t&&t.status===ht.RUNNING&&t.persistentSettings.needPersistent){const r=location.href,n=t.persistentSettings;if(n.currentMode===Ae.GlobalMode){const s=localStorage.getItem(dr);if(s){const i=JSON.parse(s);i[r]&&(document.write(i[r]),document.close())}}if(n.currentMode===Ae.RollPollingMode){const s=localStorage.getItem(pt);if(s){const i=JSON.parse(s);if(i[r]){const a=wt(i[r]);let c=!1;e.setInterval(()=>{c||Ar(a)},n.rollPolling.interval),e.setTimeout(()=>{c=!0},n.rollPolling.duration)}}}if(n.currentMode===Ae.FlickerFreeMode){const s=localStorage.getItem(pt);if(s){const i=JSON.parse(s);if(i[r]){const a=wt(i[r]),c=new MutationObserver(function(d){d.forEach(function(y){const v=y.target;if(yr(v)){const E=yt(v);E&&pr(a,E,v)}})});c.observe(document,{subtree:!0,childList:!0}),e.setTimeout(()=>{c.disconnect()},n.flickerFree.duration)}}}}}},_r={BASE_URL:"/",BROWSER:"chrome",CHROME:!0,COMMAND:"build",DEV:!1,EDGE:!1,ENTRYPOINT:"replace",FIREFOX:!1,MANIFEST_VERSION:3,MODE:"production",OPERA:!1,PROD:!0,SAFARI:!1,SSR:!1,VITE_CJS_IGNORE_WARNING:"true"},we=class we extends Event{constructor(t,r){super(we.EVENT_NAME,{}),this.newUrl=t,this.oldUrl=r}};Y(we,"EVENT_NAME",_t("wxt:locationchange"));let De=we;function _t(e){var r;const t=typeof _r>"u"?"build":"replace";return`${(r=V==null?void 0:V.runtime)==null?void 0:r.id}:${t}:${e}`}function vr(e){let t,r;return{run(){t==null&&(r=new URL(location.href),t=e.setInterval(()=>{let n=new URL(location.href);n.href!==r.href&&(window.dispatchEvent(new De(n,r)),r=n)},1e3))}}}const te=class te{constructor(t,r){Y(this,"isTopFrame",window.self===window.top);Y(this,"abortController");Y(this,"locationWatcher",vr(this));this.contentScriptName=t,this.options=r,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}get signal(){return this.abortController.signal}abort(t){return this.abortController.abort(t)}get isInvalid(){return V.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(t){return this.signal.addEventListener("abort",t),()=>this.signal.removeEventListener("abort",t)}block(){return new Promise(()=>{})}setInterval(t,r){const n=setInterval(()=>{this.isValid&&t()},r);return this.onInvalidated(()=>clearInterval(n)),n}setTimeout(t,r){const n=setTimeout(()=>{this.isValid&&t()},r);return this.onInvalidated(()=>clearTimeout(n)),n}requestAnimationFrame(t){const r=requestAnimationFrame((...n)=>{this.isValid&&t(...n)});return this.onInvalidated(()=>cancelAnimationFrame(r)),r}requestIdleCallback(t,r){const n=requestIdleCallback((...s)=>{this.signal.aborted||t(...s)},r);return this.onInvalidated(()=>cancelIdleCallback(n)),n}addEventListener(t,r,n,s){var i;r==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),(i=t.addEventListener)==null||i.call(t,r.startsWith("wxt:")?_t(r):r,n,{...s,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),ne.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:te.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName},"*")}listenForNewerScripts(t){let r=!0;const n=s=>{var i,a;if(((i=s.data)==null?void 0:i.type)===te.SCRIPT_STARTED_MESSAGE_TYPE&&((a=s.data)==null?void 0:a.contentScriptName)===this.contentScriptName){const c=r;if(r=!1,c&&(t!=null&&t.ignoreFirstEvent))return;this.notifyInvalidated()}};addEventListener("message",n),this.onInvalidated(()=>removeEventListener("message",n))}};Y(te,"SCRIPT_STARTED_MESSAGE_TYPE","wxt:content-script-started");let je=te;function Cr(){}function pe(e,...t){}const xr={debug:(...e)=>pe(console.debug,...e),log:(...e)=>pe(console.log,...e),warn:(...e)=>pe(console.warn,...e),error:(...e)=>pe(console.error,...e)};return(async()=>{try{const{main:e,...t}=wr,r=new je("replace",t);return await e(r)}catch(e){throw xr.error('The content script "replace" crashed on startup!',e),e}})()}();
replace;
